<h4>Flight Search</h4>

<div class="mb-3">
  <label for="from" class="form-label">From</label>
  <input class="form-control" id="from" [(ngModel)]="from">
</div>

<div class="mb-3">
  <label for="to" class="form-label">To</label>
  <input class="form-control" id="to" [(ngModel)]="to">
</div>

<div class="row align-items-center">
  <div class="col-auto">
    <button type="button" class="btn btn-primary" [disabled]="!from || !to" (click)="search()">Search</button>
  </div>
  <div class="col">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="showIata" [(ngModel)]="showIata">
      <label class="form-check-label" for="showIata">
        Show IATA Code
      </label>
    </div>
  </div>
</div>

<hr> 

@if(flights.length > 0) {
<table class="table">
  <thead>
    <tr>
      <th>#</th>
      <th>From</th>
      <th>To</th>
      <th>Date</th>
      <th>Delayed</th>
    </tr>
  </thead>
  <tbody>
    @for(flight of flights; track flight.id) {
    <tr (click)="selectFlight(flight)" [class.table-active]="selectedFlight === flight">
      <th>{{flight.id}}</th>
      <td>{{flight.from | city:(showIata ? 'IATA' : 'Airport')}}</td>
      <td>{{flight.to | city:(showIata ? 'IATA' : 'Airport')}}</td>
      <td>{{flight.date | date:'dd.MM.yyyy HH:mm'}}</td>
      <td>{{flight.delayed}}</td>
    </tr>
    }
  </tbody>
</table>
}